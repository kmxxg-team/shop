<extend name="public/base">

<block name="body">

<fieldset class="layui-elem-field layui-field-title">
<legend>
  <!-- 返回列表按钮 -->
  <button class="layui-btn layui-btn-radius layui-btn-primary" onclick="javascript:window.location='{:url(\'index\')}'"><i class="layui-icon">&#xe65c;</i></button>
  <present name="info">
    编辑菜单
  <else />
    新增菜单
  </present>
</legend> 
</fieldset>

<present name="info">
  <form class="layui-form" action="{:url('edit')}" method="post">
    <input type="hidden" name="id" value="{$info.id|default=''}">
<else />
  <form class="layui-form" action="{:url('add')}" method="post">
</present>
<!-- ID -->
  <div class="layui-form-item">
    <label class="layui-form-label">上级菜单</label>
    <div class="layui-input-block">
      <select name="pid" lay-verify="required">
        <option value="0" <notempty name="info"><eq name="info.pid" value="0">selected</eq></notempty>>顶级菜单</option>
        <volist name="tree_list" id="vo">
          <option value="{$vo.id}" <notempty name="info"><eq name="vo.id" value="$info['pid']">selected</eq></notempty>>{$vo.title_show}</option>
        </volist>
      </select>
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">所属分组</label>
    <div class="layui-input-block">
       <input type="text" name="group" required lay-verify="required" placeholder="请输入所属分组" autocomplete="off" class="layui-input" value="{$info.group|default=''}">
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">菜单类型</label>
    <div class="layui-input-block">
      <input type="radio" name="type" value="1" title="主菜单" <notempty name="info.type"><eq name="info.type" value="1">checked</eq></notempty>>
      <input type="radio" name="type" value="2" title="节点菜单" <notempty name="info.type"><eq name="info.type" value="2">checked</eq></notempty>>
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label"><span style="color:red;">* </span>菜单名</label>
    <div class="layui-input-block">
      <input type="text" name="title" required lay-verify="required" placeholder="请输入菜单名" autocomplete="off" class="layui-input" value="{$info.title|default=''}">
    </div>
  </div>

  <div class="layui-form-item">
    <label class="layui-form-label"><span style="color:red;">* </span>模块</label>
    <div class="layui-input-block">
      <input type="text" name="module" placeholder="请输入模块" autocomplete="off" class="layui-input" value="{$info.module|default=''}">
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label"><span style="color:red;">* </span>名称</label>
    <div class="layui-input-block">
      <input type="text" name="name" placeholder="请输入名称" autocomplete="off" class="layui-input" value="{$info.name|default=''}">
      <div class="layui-form-mid layui-word-aux">模块/控制器/方法</div>
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">图标</label>
    <div class="layui-input-block">
      <input type="text" name="icon" placeholder="请输入图标" autocomplete="off" class="layui-input" value="{$info.icon|default=''}">
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">排序</label>
    <div class="layui-input-block">
      <input type="text" name="sort" required  lay-verify="required" placeholder="请输入排序序号" value="{$info.sort|default="100"}" autocomplete="off" class="layui-input">
      <div class="layui-form-mid layui-word-aux">菜单按照升序排序</div>
    </div>
  </div>
  <div class="layui-form-item">
    <label class="layui-form-label">可见</label>
    <div class="layui-input-block">
      <input type="radio" name="status" value="1" title="是" <eq name="info.status|default=''" value="1">checked</eq>>
      <input type="radio" name="status" value="0" title="否" <eq name="info.status|default=''" value="0">checked</eq>>
    </div>
  </div>
  <div class="layui-form-item">
    <div class="layui-input-block">
      <button class="layui-btn" lay-submit lay-filter="submitForm">立即提交</button>
      <notpresent name="info">
      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
      </notpresent>
    </div>
  </div>
</form>
</block>