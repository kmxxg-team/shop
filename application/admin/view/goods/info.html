<extend name="public/base">

<block name="body">

<fieldset class="layui-elem-field layui-field-title">
<legend>
  <!-- 返回列表按钮 -->
  <button class="layui-btn layui-btn-radius layui-btn-primary" onclick="javascript:window.location='{:url(\'index\')}'"><i class="layui-icon">&#xe65c;</i></button>
  <empty name="$Request.get.goods_id">
    添加商品
  <else />
    商品设置
  </empty>
</legend>
</fieldset>

<!-- 判断是更新还是新增 -->
<empty name="$Request.get.goods_id">
  <form class="layui-form" action="{:url('add')}">
<else />
  <form class="layui-form" action="{:url('edit')}">
</empty>

<div class="layui-tab">
  <ul class="layui-tab-title">
    <li class="layui-this">通用信息</li>
    <li>商品相册</li>
    <li>商品模型</li>
    <li>商品物流</li>
    <li>积分折扣</li>
  </ul>

  <div class="layui-tab-content">
  	<!-- 通用信息选项卡 -->
    <div class="layui-tab-item layui-show">
		<!-- ID -->
		<input type="hidden" name="goods_id" value="{$info.goods_id|default=''}">
		  <div class="layui-form-item">
		    <label class="layui-form-label"><span style="color:red;">* </span>商品名称</label>
		    <div class="layui-input-block">
		      <input type="text" name="goods_name" required lay-verify="required" placeholder="请输入商品名称" autocomplete="off" class="layui-input" value="{$info.goods_name|default=''}">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">商品简介</label>
		    <div class="layui-input-block">
		    	<textarea name="goods_remark" placeholder="请输入商品简介" class="layui-textarea">{$info.goods_remark|default=''}</textarea>
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">商品货号</label>
		    <div class="layui-input-inline">
		      <input type="text" name="goods_sn" placeholder="请输入商品货号" autocomplete="off" class="layui-input" value="{$info.goods_sn|default=''}">
		    </div>
		    <div class="layui-form-mid layui-word-aux">若不填写则会自动生成</div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">SPU</label>
		    <div class="layui-input-block">
		      <input type="text" name="spu" placeholder="请输入spu" autocomplete="off" class="layui-input" value="{$info.spu|default=''}">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">SKU</label>
		    <div class="layui-input-block">
		      <input type="text" name="sku" placeholder="请输入sku" autocomplete="off" class="layui-input" value="{$info.sku|default=''}">
		    </div>
		  </div>
		  <!-- <div class="layui-form-item">
		    <label class="layui-form-label"><span style="color:red;">* </span>商品分类</label>
		    <div class="layui-input-block">
		      <select name="role_id" lay-verify="required">
		        <option value=""></option>
		        <option value="123">123</option>
		      </select>
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label"><span style="color:red;">* </span>商品品牌</label>
		    <div class="layui-input-block">
		      <select name="role_id" lay-verify="required">
		        <option value=""></option>
		        <option value="123">123</option>
		      </select>
		    </div>
		  </div> -->
		  <div class="layui-form-item">
		    <label class="layui-form-label"><span style="color:red;">* </span>本店售价</label>
		    <div class="layui-input-block">
		      <input type="text" name="shop_price" required lay-verify="required|number" placeholder="请输入本店售价" autocomplete="off" class="layui-input" value="{$info.shop_price|default=''}">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label"><span style="color:red;">* </span>市场价</label>
		    <div class="layui-input-block">
		      <input type="text" name="market_price" required lay-verify="required|number" placeholder="请输入市场价" autocomplete="off" class="layui-input" value="{$info.market_price|default=''}">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">图片上传</label>
		    <div class="layui-input-block">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label"><span style="color:red;">* </span>商品重量</label>
		    <div class="layui-input-inline">
		      <input type="text" name="weight" required lay-verify="required|number" placeholder="请输入商品重量" autocomplete="off" class="layui-input" value="{$info.weight|default=''}">
		    </div>
		    <div class="layui-form-mid layui-word-aux">务必设置商品重量, 用于计算物流费.以克为单位</div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">是否包邮</label>
		    <div class="layui-input-block">
		    	<input type="checkbox" name="is_free_shipping" lay-skin="switch" lay-text="是|否"
		    		<present name="info.is_free_shipping">
		    			<eq name="info.is_free_shipping" value="1">checked</eq>
		     		</present>
		     	>
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label"><span style="color:red;">* </span>总库存</label>
		    <div class="layui-input-block">
		      <input type="text" name="store_count" required lay-verify="required|number" placeholder="请输入商品库存" autocomplete="off" class="layui-input" value="{$info.store_count|default=''}">
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label"><span style="color:red;">* </span>商品关键词</label>
		    <div class="layui-input-inline">
		      <input type="text" name="keywords" required lay-verify="required" placeholder="请输入商品关键词" autocomplete="off" class="layui-input" value="{$info.keywords|default=''}">
		    </div>
		    <div class="layui-form-mid layui-word-aux">多个关键词之间，请用空格隔开</div>
		  </div>
			<div class="layui-form-item">
		    <label class="layui-form-label">是否为虚拟物品</label>
		    <div class="layui-input-block">
		    	<input type="checkbox" name="is_virtual" lay-skin="switch" lay-text="是|否"
		    		<present name="info.is_virtual">
		    			<eq name="info.is_virtual" value="1">checked</eq>
		     		</present>
		    	>
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <label class="layui-form-label">商品详情描述</label>
		    <div class="layui-input-block">
			    <div id="editor">
	        		<p>{$info.goods_content|default=''}<p>
	    		</div>
	    		<textarea id="goods_content" name="goods_content" style="display:none"></textarea>
		    </div>
		  </div>
		  <div class="layui-form-item">
		    <div class="layui-input-block">
		      <button class="layui-btn" lay-submit lay-filter="submitForm">立即提交</button>
		      <button type="reset" class="layui-btn layui-btn-primary">重置</button>
		    </div>
		  </div>
    </div>
    <div class="layui-tab-item">内容2</div>
    <div class="layui-tab-item">内容3</div>
    <div class="layui-tab-item">内容4</div>
    <div class="layui-tab-item">内容5</div>
  </div>
</div>

</form>

<!-- <script src="https://cdn.bootcss.com/jquery/3.2.1/jquery.min.js"></script> -->
<script type="text/javascript" src="__ROOT__/plugins/wangEditor/release/wangEditor.min.js"></script>
<script>
layui.use('element', function(){
	var element = layui.element;
	var $ = layui.jquery;

	//wangEditor文本编辑器
	var E = window.wangEditor;
	var editor = new E('#editor');
	var $text = $('#goods_content');
	editor.customConfig.onchange = function (html) {
	    // 监控变化，同步更新到 textarea
	    $text.val(html);
	}
	// 或者 var editor = new E( document.getElementById('editor') )
	editor.create();
	// 初始化 textarea 的值
	$text.val(editor.txt.html());
});


</script>

</block>